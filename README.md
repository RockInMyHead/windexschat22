# üöÄ WindexsAI Chat v2.2 ‚Äî Realtime Voice + Multimodal AI

**WindexsAI Chat** ‚Äî —ç—Ç–æ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ —Å —á–∞—Ç‚Äë–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º, –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π —Å–∞–π—Ç–æ–≤, –æ–±—Ä–∞–±–æ—Ç–∫–æ–π —Ñ–∞–π–ª–æ–≤ –∏ **realtime –≥–æ–ª–æ—Å–æ–≤—ã–º–∏ –∑–≤–æ–Ω–∫–∞–º–∏** (ASR ‚Üí LLM ‚Üí TTS) –≤ –æ–¥–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏.

[![Live Demo](https://img.shields.io/badge/üöÄ_Live_Demo-brightgreen)](https://ai.windexs.ru)
[![GitHub](https://img.shields.io/badge/GitHub-Repository-blue)](https://github.com/RockInMyHead/windexschat22)
[![License](https://img.shields.io/badge/License-MIT-green)](LICENSE)

---

## üî• –ß—Ç–æ –Ω–æ–≤–æ–≥–æ –≤ —Ç–µ–∫—É—â–µ–π –≤–µ—Ä—Å–∏–∏

- **‚úÖ Realtime Voice Call –†–ê–ë–û–¢–ê–ï–¢**: –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏—Å–ø—Ä–∞–≤–ª–µ–Ω –º–Ω–æ–≥–æ—Ä–∞—É–Ω–¥–æ–≤—ã–π –¥–∏–∞–ª–æ–≥, —Å–∏—Å—Ç–µ–º–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–∑–≥–æ–≤–æ—Ä –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –æ—Ç–≤–µ—Ç–∞ AI.
- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≥–æ–ª–æ—Å–æ–≤–æ–≥–æ –∑–≤–æ–Ω–∫–∞**:
  - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω —Å–±—Ä–æ—Å —Å–æ—Å—Ç–æ—è–Ω–∏—è `voice_state` –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è TTS (–¥–æ–±–∞–≤–ª–µ–Ω `nonlocal voice_state` –≤ `run_tts()`)
  - –ü—Ä—è–º–æ–π TTS —á–µ—Ä–µ–∑ Silero –±–µ–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç HTTP-—Å–µ—Ä–≤–∏—Å–∞ –Ω–∞ –ø–æ—Ä—Ç—É 8002
  - –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Å–±—Ä–æ—Å Vosk —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞—Ç–µ–ª—è –∏ —Ç–∞–π–º–µ—Ä–æ–≤ —Ç–∏—à–∏–Ω—ã –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –æ—Ç–≤–µ—Ç–∞
  - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ ASR warmup –¥–ª—è –ø–ª–∞–≤–Ω–æ–≥–æ –ø–µ—Ä–µ—Ö–æ–¥–∞ –º–µ–∂–¥—É —Ä–∞—É–Ω–¥–∞–º–∏ –¥–∏–∞–ª–æ–≥–∞
- **–ù–∞–¥—ë–∂–Ω–æ–µ –∞—É–¥–∏–æ‚Äë–≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ**: –æ—á–µ—Ä–µ–¥—å —á–∞–Ω–∫–æ–≤ –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è TTS.
- **–°—Ç–∞–±–∏–ª—å–Ω—ã–π –ø—Ä–æ—Ç–æ–∫–æ–ª WS**: –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –±–∏–Ω–∞—Ä–Ω—ã—Ö –∞—É–¥–∏–æ‚Äë—á–∞–Ω–∫–æ–≤ –∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö.

---

## ‚ú® –ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- ü§ñ **AI‚Äë—á–∞—Ç** —Å –ø–æ—Ç–æ–∫–æ–≤—ã–º–∏ –æ—Ç–≤–µ—Ç–∞–º–∏ LLM.
- üéôÔ∏è **Realtime –≥–æ–ª–æ—Å–æ–≤—ã–µ –∑–≤–æ–Ω–∫–∏** (WebSocket, ASR, TTS).
- üèóÔ∏è **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–∞–π—Ç–æ–≤** –∏ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤ (Sandpack, live preview).
- üìä **–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö** (–≥—Ä–∞—Ñ–∏–∫–∏ –∏ –æ—Ç—á—ë—Ç—ã).
- üìÅ **–û–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–∞–π–ª–æ–≤** (PDF, DOCX, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, OCR).
- üåê **–ü–æ–∏—Å–∫ –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ** —á–µ—Ä–µ–∑ MCP.
- üí¨ **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–∞—Ç–∞–º–∏**: –∏—Å—Ç–æ—Ä–∏—è, —Å–µ—Å—Å–∏–∏, —É–¥–∞–ª–µ–Ω–∏–µ, —ç–∫—Å–ø–æ—Ä—Ç.

---

## üß© –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
Frontend (React + TypeScript)
‚îú‚îÄ‚îÄ Vite + SWC
‚îú‚îÄ‚îÄ Shadcn/ui + Tailwind CSS
‚îî‚îÄ‚îÄ Recharts / Sandpack

Backend (Node.js)
‚îú‚îÄ‚îÄ Express API
‚îú‚îÄ‚îÄ SQLite (better-sqlite3)
‚îî‚îÄ‚îÄ MCP / –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã

Voice Backend (Python)
‚îú‚îÄ‚îÄ WebSocket realtime
‚îú‚îÄ‚îÄ Vosk ASR + VAD
‚îú‚îÄ‚îÄ LLM streaming ‚Üí TTS
‚îî‚îÄ‚îÄ TTS: Silero (local) –∏–ª–∏ OpenAI
```

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (–ª–æ–∫–∞–ª—å–Ω–æ)

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Node.js 18+
- Python 3.9+
- Git

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
git clone https://github.com/RockInMyHead/windexschat22.git
cd windexschat22

npm install
npm run init-db
```

### –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```bash
# API (Express)
npm run server

# Frontend (Vite)
npm run dev
```

### –ó–∞–ø—É—Å–∫ –≥–æ–ª–æ—Å–æ–≤–æ–≥–æ backend

```bash
cd voice-backend
./start_voice_backend.sh
```

**–û—Ç–∫—Ä–æ–π—Ç–µ:** `http://127.0.0.1:8081`  
**WS –≥–æ–ª–æ—Å:** `ws://127.0.0.1:2700`

---

## üîë –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

### –û—Å–Ω–æ–≤–Ω–æ–π backend
```env
DEEPSEEK_API_KEY=...
OPENAI_API_KEY=...        # –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ OpenAI
TAVILY_API_KEY=...         # –¥–ª—è –ø–æ–∏—Å–∫–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
VITE_API_BASE_URL=http://127.0.0.1:1062
```

### –ì–æ–ª–æ—Å–æ–≤–æ–π backend
```env
TTS_PROVIDER=local         # local | openai
TTS_BASE_URL=http://127.0.0.1:8002
TTS_MODEL=silero_ru
TTS_VOICE=eugene
TTS_SPEED=0.93
```

---

## üß™ –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

| –ö–æ–º–∞–Ω–¥–∞ | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|---------|------------|
| `npm run dev` | Frontend (Vite) |
| `npm run server` | API —Å–µ—Ä–≤–µ—Ä |
| `npm run mcp` | MCP —Å–µ—Ä–≤–µ—Ä |
| `npm run init-db` | –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ë–î |
| `npm run build` | Production —Å–±–æ—Ä–∫–∞ |

---

## üìò –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –≥–æ–ª–æ—Å—É

- `VOICE_CALL_GUIDE.md`
- `VOICE_ARCHITECTURE_FIXED.md`
- `VOICE_ROLE_MODEL.md`
- `QUICK_START_VOICE.md`

---

## üÜò Troubleshooting (–≥–æ–ª–æ—Å)

–ï—Å–ª–∏ —Ç–µ–∫—Å—Ç –≤ —á–∞—Ç–µ –µ—Å—Ç—å, –∞ –∑–≤—É–∫–∞ –Ω–µ—Ç:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `voice-backend/logs/stt.log`
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `TTS_PROVIDER` –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ WebSocket `ws://127.0.0.1:2700` –¥–æ—Å—Ç—É–ø–µ–Ω

---

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT ‚Äî –ø–æ–¥—Ä–æ–±–Ω–µ–µ –≤ [LICENSE](LICENSE).

---

## ‚úÖ –°—Ç–∞—Ç—É—Å

**–í–µ—Ä—Å–∏—è:** 2.2.1  
**–°—Ç–∞—Ç—É—Å:** Production Ready  
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 24 —è–Ω–≤–∞—Ä—è 2026

### üéâ –ü–æ—Å–ª–µ–¥–Ω–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è (24.01.2026)

- ‚úÖ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω –º–Ω–æ–≥–æ—Ä–∞—É–Ω–¥–æ–≤—ã–π realtime –¥–∏–∞–ª–æ–≥** ‚Äî —Å–∏—Å—Ç–µ–º–∞ —Ç–µ–ø–µ—Ä—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–∑–≥–æ–≤–æ—Ä –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –æ—Ç–≤–µ—Ç–∞ AI
- ‚úÖ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω TTS** ‚Äî –ø—Ä—è–º–æ–π —Å–∏–Ω—Ç–µ–∑ —á–µ—Ä–µ–∑ Silero –±–µ–∑ HTTP-—Å–µ—Ä–≤–∏—Å–∞
- ‚úÖ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω —Å–±—Ä–æ—Å —Å–æ—Å—Ç–æ—è–Ω–∏–π** ‚Äî –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥ –∏–∑ ASSISTANT_TTS –≤ IDLE –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –æ—Ç–≤–µ—Ç–∞
- ‚úÖ **–£–ª—É—á—à–µ–Ω–∞ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å** ‚Äî –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –≥–æ–Ω–∫–∏ —É—Å–ª–æ–≤–∏–π –∏ –ø—Ä–æ–±–ª–µ–º—ã —Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–µ–π —Å–æ—Å—Ç–æ—è–Ω–∏–π